{"version":3,"sources":["main.js"],"names":["$","focus","document","onkeydown","event","keyCode","click","submit","$siteList","$lastLi","find","webSite","localStorage","getItem","webSiteObject","JSON","parse","hashMap","url","findIcon","simplifyUrl","replace","render","remove","forEach","node","index","$li","insertBefore","on","window","open","e","stopPropagation","splice","prompt","indexOf","push","logo","logoType","timer","setTimeout","answer","confirm","console","log","currentTarget","clearTimeout","location","reload","onbeforeunload","string","stringify","setItem"],"mappings":"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","file":"main.55bd3ed8.js","sourceRoot":"..\\src","sourcesContent":["$(\".searchForm\").focus(function () {\n  document.onkeydown = function (event) {\n    if (event && event.keyCode == 13) {\n      $(\"input[type=submit]\").click();\n    }\n  };\n});\n\n$(\".searchButton\").click(function () {\n  $(\".searchForm\").submit();\n});\n\nconst $siteList = $(\".siteList\");\nconst $lastLi = $siteList.find(\"li.last\");\nconst webSite = localStorage.getItem(\"webSite\");\nconst webSiteObject = JSON.parse(webSite);\nconst hashMap = webSiteObject || [\n  { url: \"https://www.acfun.cn\" },\n  { url: \"https://www.bilibili.com\" },\n  { url: \"https://www.cctv.com/\" },\n  { url: \"http://www.dilidili8.com/\" },\n  { url: \"https://theporndude.com/zh/338/e-hentai\" },\n  { url: \"https://github.com/\" },\n  { url: \"https://pixivic.com/?VNK=ab10d77e\" },\n];\n\nconst findIcon = (url) => {\n  // console.log(\"https://i.olsh.me/icon?url=github.com&size=32..32..200\");\n\n  return \"https://www.google.com/s2/favicons?domain=\" + url + \"\";\n  // return \"https://i.olsh.me/icon?url=\" + url + \"&size=32..32..20\";\n};\n\nconst simplifyUrl = (url) => {\n  return url\n    .replace(\"https://\", \"\")\n    .replace(\"http://\", \"\")\n    .replace(\"www.\", \"\")\n    .replace(\".cn\", \"\")\n    .replace(\".com\", \"\")\n    .replace(/\\/.*/, \"\");\n};\n\nconst render = () => {\n  $siteList.find(\"li:not(.last)\").remove();\n  hashMap.forEach((node, index) => {\n    const $li = $(`\n          <li>            \n            <div class=\"site\">\n              <div class=\"logo\">\n                <img src=\" ${findIcon(node.url)}\" alt=\"\"> \n              </div>\n              <div class=\"link\">${simplifyUrl(node.url)}</div>\n              <div class=\"close\">\n                <svg class=\"icon\">\n                  <use xlink:href=\"#icon-delete\"></use>\n                </svg>\n            </div>\n            </div>           \n          </li>\n      `).insertBefore($lastLi);\n    $li.on(\"click\", () => {\n      window.open(node.url);\n    });\n    $li.on(\"click\", \".close\", (e) => {\n      e.stopPropagation();\n      hashMap.splice(index, 1);\n      render();\n    });\n  });\n};\nrender();\n\n$(\".addButton\").on(\"click\", () => {\n  let url = window.prompt(\"请输入你要添加的网址\");\n  if (url.indexOf(\"http\" !== 0)) {\n    url = \"https://\" + url;\n  }\n  hashMap.push({\n    logo: simplifyUrl(url)[0],\n    logoType: \"text\",\n    url: url,\n  });\n  render();\n});\n\n$(\".site\").on(\"touchstart\", (e) => {\n  // startTime = new Date();\n  //设置一个长按计时器\n  timer = setTimeout(function () {\n    // console.log($(this));\n    // // $(this).find(\".close\").style.display = \"block\";\n    // $(e.currentTarget).find(\".close\").css(\"display\", \"block\");\n    let answer = window.confirm(\"删除这个网址?\");\n    console.log(answer);\n    if (answer) {\n      $(e.currentTarget).find(\".close\").click();\n      clearTimeout(timer);\n    } else {\n      window.location.reload();\n    }\n  }, 700);\n});\n\n// $(\".site\").on(\"touchend\", (e) => {\n//   endTime = new Date();\n\n//   clearTimeout(timer);\n\n//   if (endTime - startTime < 700) {\n//     // 处理点击事件\n\n//     label.classList.add(\"selected\");\n//   }\n// });\n\nwindow.onbeforeunload = () => {\n  const string = JSON.stringify(hashMap);\n  localStorage.setItem(\"webSite\", string);\n};\n"]}